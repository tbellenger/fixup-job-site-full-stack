{{!--page template for the dashboard where user can create job posting--}}
<section class="hero has-background-grey-lighter">
    <div class="hero-body">
        <div class="container">
            <div class="columns is-centered">
                <div class="column">
                    {{!--input form for the job post data--}}
                    <form class="box">
                        {{!--label an dinput for job title--}}
                        <div class="field">
                             <h1>Post a New Job<h1>
                               <label class="label"> Title</label><br>
                              <div class="control">
                               
                                <input
                                    type="text"
                                    placeholder="Job title"
                                    class="input is-large title-input"
                                    name="job-title" required/>
                            </div>
                        </div>
                        {{!--label and input for category name--}}
                        <div class="field">
                            <label class="label">Category Name</label><br>
                            <div class="control">
                                <select name="category-name" id="category-name" required>
                                    {{#each categories as |category|}}
                                    <option value="{{category.category_name}}">{{category.category_name}}</option>
                                    {{/each}}
                                </select>
                            </div>
                        </div>
                        {{!--label and input for job description--}}
                        <div class="field-body">
                            <div class="field">
                                <label class="label">Description</label><br>
                                <div class="control">
                                    <textarea
                                        class="textarea description-input"
                                        placeholder="Job description"
                                        name="description-input" required
                                    ></textarea>
                                </div>
                            </div>
                        </div>
                        {{!--label and input for salary--}}
                        <div class="control">
                            <label class="label">Salary</label><br>
                                <input
                                    type="number"
                                    placeholder="salary"
                                    class="input is-large salary-input"
                                    name='salary-input' required/>
                            </div>
                            {{!--label and input for payment method--}}
                            <div class="control">
                            <label class="label">Payment method will be </label><br><br>
                                <input
                                    type="text"
                                    placeholder="Payment method"
                                    class="input is-large payment-input"
                                    name="payment-input" required/>
                            </div>
                            {{!--label and input for job location--}}
                            <div class="control">
                            <label class="label">Job Location</label><br><br>
                                <input
                                    type="number"
                                    placeholder="Job location"
                                    class="input is-large location-input"
                                    name="location-input" required/>
                            </div>
                            <div class="control">
                            <label class="label">Image</label><br><br>
                                <input
                                accept="image/png, image/jpeg"
                                    type="file"
                                    name="file" id="file-input" /><img id="spinner" class="hide" src="/images/spinner.gif" width="30px" height="30px"/>
                            </div>
                           
                            {{!--button to submit the inputs--}}
                        <div class="field is-grouped is-grouped-right mt-3">
                            <button class="button is-success submit-post">Submit</a></button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
{{!--section table to display the post history of a certain user--}}
<section class="hero has-background-grey-lighter hug">
    <div class="hero-body">
        <div class="container">
            <div class="columns is-centered">
                <div class="column">
                    <form class="box">
                        <table
                            class="table is-bordered is-striped is-narrow is-hoverable is-fullwidth"
                        >
                            <thead>
                                {{!--user post information columns of data--}}
                                <tr>
                                    <th class="table-title">Title</th>
                                    {{!--condition to assign or parse the user if falls as an employee--}}
                                    {{#if employee}}
                                    <th class="employee-name">Employee</th>
                                    {{/if}}
                                    {{#unless employee}}
                                    <th class="employee-name">Employee</th>
                                    {{/unless}}
                                    <th class="job-status">Job Satus</th>
                                    <th class="table-edit">Edit</th>
                                    <th class="table-delete">Delete</th>
                                </tr>
                            </thead>
                            {{!--rows of data object key value goes here--}}
                            <tbody>
                                {{#each jobs}}
                                    <tr>
                                        <td><a href="/dashboard/job/{{this.id}}"
                                            >{{this.title}}</a></td>
                                        {{!--condition if the owner has an employee then view the employee name--}}
                                        {{#if employee}}
                                        <td>{{>partial-user this.employee}}</td>
                                        {{else}}
                                            {{#unless applicant.length}}
                                            <td>no applicants yet</td>
                                            {{else}}
                                            <td><a href="/dashboard/job/{{this.id}}/applicants">Select applicant</a></td>
                                            {{/unless}}
                                        {{/if}}
                                        <td>{{job_status}}</td>
                                        <td><a href="/dashboard/job/{{this.id}}/edit">Edit</a></td>
                                        <td><button class="delete-job" data-id="{{this.id}}">Delete</button></td>
                        
                                    </tr>
                            
                                {{/each}}
                            </tbody>
                        </table>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
{{!--call the file function to generate this page template--}}
<script src="/javascript/dashboard.js"></script>
